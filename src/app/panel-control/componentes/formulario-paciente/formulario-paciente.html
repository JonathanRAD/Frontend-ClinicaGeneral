<div class="container-fluid">
  <mat-card class="mat-elevation-z4">
    <mat-card-header class="card-header">
      <mat-card-title>{{ esModoEdicion ? 'Editar Paciente' : 'Registrar Nuevo Paciente' }}</mat-card-title>
      <button mat-stroked-button color="primary" routerLink="/panel/pacientes">
        <mat-icon>arrow_back</mat-icon>
        Volver a la lista
      </button>
    </mat-card-header>

    <mat-card-content class="p-4">
      <form [formGroup]="pacienteForm" (ngSubmit)="guardarPaciente()">
        <div class="row g-3">
          <!-- Campo DNI -->
          <div class="col-md-6">
            <label for="dni" class="form-label fw-semibold">DNI</label>
            <input id="dni" type="text" class="form-control" formControlName="dni" placeholder="Ej: 12345678">
            <div *ngIf="pacienteForm.get('dni')?.invalid && pacienteForm.get('dni')?.touched" class="text-danger small mt-1">
              El DNI es requerido y debe tener 8 dígitos.
            </div>
          </div>

          <!-- Campo Teléfono -->
          <div class="col-md-6">
            <label for="telefono" class="form-label fw-semibold">Teléfono</label>
            <input id="telefono" type="text" class="form-control" formControlName="telefono" placeholder="Ej: 987654321">
            <div *ngIf="pacienteForm.get('telefono')?.invalid && pacienteForm.get('telefono')?.touched" class="text-danger small mt-1">
              El teléfono es requerido y debe tener 9 dígitos.
            </div>
          </div>

          <!-- Campo Nombres -->
          <div class="col-12">
            <label for="nombres" class="form-label fw-semibold">Nombres</label>
            <input id="nombres" type="text" class="form-control" formControlName="nombres" placeholder="Ej: Juan Carlos">
            <div *ngIf="pacienteForm.get('nombres')?.invalid && pacienteForm.get('nombres')?.touched" class="text-danger small mt-1">
              El nombre es requerido.
            </div>
          </div>

          <!-- Campo Apellidos -->
          <div class="col-12">
            <label for="apellidos" class="form-label fw-semibold">Apellidos</label>
            <input id="apellidos" type="text" class="form-control" formControlName="apellidos" placeholder="Ej: Pérez García">
            <div *ngIf="pacienteForm.get('apellidos')?.invalid && pacienteForm.get('apellidos')?.touched" class="text-danger small mt-1">
              El apellido es requerido.
            </div>
          </div>

          <!-- Campo Fecha de Nacimiento -->
          <div class="col-12">
            <label for="fechaNacimiento" class="form-label fw-semibold">Fecha de Nacimiento</label>
            <input id="fechaNacimiento" type="date" class="form-control" formControlName="fechaNacimiento">
            <div *ngIf="pacienteForm.get('fechaNacimiento')?.invalid && pacienteForm.get('fechaNacimiento')?.touched" class="text-danger small mt-1">
              La fecha es requerida.
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-end mt-4">
          <button type="submit" mat-raised-button color="primary" [disabled]="pacienteForm.invalid">
            <mat-icon>save</mat-icon>
            {{ esModoEdicion ? 'Actualizar Cambios' : 'Guardar Paciente' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>