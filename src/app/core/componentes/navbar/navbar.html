<ng-container *ngIf="esPortal">
  <nav class="navbar navbar-expand-lg bg-light shadow-sm portal-nav-hybrid">
    <div class="container-fluid">
      
      <a class="navbar-brand d-flex align-items-center fw-bold" routerLink="inicio" (click)="closeMenu()">
        <mat-icon class="d-inline-block align-text-top me-2">local_hospital</mat-icon>
        <span>Clínica SaludVida</span>
      </a>

      <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-label="Toggle navigation">
        <mat-icon>{{ isMenuOpen() ? 'close' : 'menu' }}</mat-icon>
      </button>

      <div class="nav-collapse-wrapper" [class.is-open]="isMenuOpen()">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item">
            <a class="nav-link" routerLink="inicio" routerLinkActive="active" (click)="closeMenu()">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="mis-citas" routerLinkActive="active" (click)="closeMenu()">Mis Citas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="agendar-cita" routerLinkActive="active" (click)="closeMenu()">Agendar Cita</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="nuestros-medicos" routerLinkActive="active" (click)="closeMenu()">Nuestros Médicos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="servicios" routerLinkActive="active" (click)="closeMenu()">Servicios</a>
          </li>
        </ul>
        
        <ul class="navbar-nav user-nav-section">
           <li class="nav-item nav-user">
             <button mat-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
               <mat-icon>account_circle</mat-icon>
               <span>{{ nombreUsuario }}</span>
               <mat-icon class="expand-icon">expand_more</mat-icon>
             </button>
             <mat-menu #userMenu="matMenu" xPosition="before">
               <a mat-menu-item routerLink="mi-perfil" (click)="closeMenu()"><mat-icon>person</mat-icon><span>Mi Perfil</span></a>
               <a mat-menu-item routerLink="mi-historial" (click)="closeMenu()"><mat-icon>history_edu</mat-icon><span>Mi Historial</span></a>
               <mat-divider></mat-divider>
               <button mat-menu-item (click)="cerrarSesion()"><mat-icon>logout</mat-icon><span>Cerrar Sesión</span></button>
             </mat-menu>
           </li>
        </ul>
      </div>

    </div>
  </nav>
</ng-container>

<ng-container *ngIf="!esPortal">
  </ng-container>